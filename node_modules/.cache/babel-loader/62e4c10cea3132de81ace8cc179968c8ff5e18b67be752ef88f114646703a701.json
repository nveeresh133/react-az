{"ast":null,"code":"import React from'react';import{withAITracking}from'@microsoft/applicationinsights-react-js';import{ReactPlugin}from'@microsoft/applicationinsights-react-js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends React.Component{constructor(props){super(props);this.state={data:null,error:null,loading:false,buttonClicked:''};this.handleButtonClick=this.handleButtonClick.bind(this);this.handlePopState=this.handlePopState.bind(this);}componentDidMount(){window.addEventListener('popstate',this.handlePopState);this.handlePopState();}componentWillUnmount(){window.removeEventListener('popstate',this.handlePopState);}handlePopState(){const validPaths=['/','/posts','/users'];const currentPath=window.location.pathname;if(!validPaths.includes(currentPath)){this.setState({error:`The page at ${currentPath} doesn't exist.`,data:null});}else{this.setState({error:null});}}async handleButtonClick(operationName,endpoint,urlPath){this.setState({loading:true,error:null,buttonClicked:operationName});window.history.pushState({},'',urlPath);this.props.appInsights.startTrackEvent(operationName);try{const response=await fetch(endpoint);if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();this.setState({data,error:null,loading:false});this.props.appInsights.stopTrackEvent(operationName,{status:'success'});}catch(error){this.setState({data:null,error:error.message,loading:false});this.props.appInsights.stopTrackEvent(operationName,{status:'failure',error:error.message});}}render(){const{data,error,loading,buttonClicked}=this.state;if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.errorText,children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.header,children:\"POC on DataLab Search Performance & Monitoring!\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.button,onClick:()=>this.handleButtonClick('GetProductsOperation','https://jsonplaceholder.typicode.com/posts','/posts'),disabled:loading,children:loading&&buttonClicked==='GetProductsOperation'?'Loading...':'Fetch Posts'}),/*#__PURE__*/_jsx(\"button\",{style:styles.button,onClick:()=>this.handleButtonClick('GetUsersOperation','https://jsonplaceholder.typicode.com/users','/users'),disabled:loading,children:loading&&buttonClicked==='GetUsersOperation'?'Loading...':'Fetch Users'}),/*#__PURE__*/_jsx(\"div\",{children:data&&/*#__PURE__*/_jsx(\"pre\",{style:styles.data,children:JSON.stringify(data,null,2)})})]});}}const styles={container:{backgroundColor:'#f5f5f5',padding:'20px',fontFamily:'Arial, sans-serif',textAlign:'center',minHeight:'100vh'},header:{color:'#333',fontSize:'2rem'},button:{backgroundColor:'#4CAF50',color:'white',padding:'10px 20px',margin:'10px',border:'none',borderRadius:'5px',cursor:'pointer',fontSize:'16px'},buttonDisabled:{backgroundColor:'#888'},data:{backgroundColor:'#fff',padding:'10px',borderRadius:'5px',marginTop:'20px',textAlign:'left'},errorText:{color:'red'}};export default withAITracking(ReactPlugin,App);","map":{"version":3,"names":["React","withAITracking","ReactPlugin","jsx","_jsx","jsxs","_jsxs","App","Component","constructor","props","state","data","error","loading","buttonClicked","handleButtonClick","bind","handlePopState","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","validPaths","currentPath","location","pathname","includes","setState","operationName","endpoint","urlPath","history","pushState","appInsights","startTrackEvent","response","fetch","ok","Error","json","stopTrackEvent","status","message","render","className","style","styles","container","children","errorText","header","button","onClick","disabled","JSON","stringify","backgroundColor","padding","fontFamily","textAlign","minHeight","color","fontSize","margin","border","borderRadius","cursor","buttonDisabled","marginTop"],"sources":["/home/veeresh133/app/test-error-react/react-az/src/App.js"],"sourcesContent":["import React from 'react';\nimport { withAITracking } from '@microsoft/applicationinsights-react-js';\nimport { ReactPlugin } from '@microsoft/applicationinsights-react-js';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            error: null,\n            loading: false,\n            buttonClicked: '',\n        };\n        this.handleButtonClick = this.handleButtonClick.bind(this);\n        this.handlePopState = this.handlePopState.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('popstate', this.handlePopState);\n        this.handlePopState();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('popstate', this.handlePopState);\n    }\n\n    handlePopState() {\n        const validPaths = ['/', '/posts', '/users'];\n        const currentPath = window.location.pathname;\n\n        if (!validPaths.includes(currentPath)) {\n            this.setState({\n                error: `The page at ${currentPath} doesn't exist.`,\n                data: null\n            });\n        } else {\n            this.setState({ error: null });\n        }\n    }\n\n    async handleButtonClick(operationName, endpoint, urlPath) {\n        this.setState({ loading: true, error: null, buttonClicked: operationName });\n\n        window.history.pushState({}, '', urlPath);\n        this.props.appInsights.startTrackEvent(operationName);\n\n        try {\n            const response = await fetch(endpoint);\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            const data = await response.json();\n\n            this.setState({ data, error: null, loading: false });\n            this.props.appInsights.stopTrackEvent(operationName, { status: 'success' });\n        } catch (error) {\n            this.setState({ data: null, error: error.message, loading: false });\n            this.props.appInsights.stopTrackEvent(operationName, { status: 'failure', error: error.message });\n        }\n    }\n\n    render() {\n        const { data, error, loading, buttonClicked } = this.state;\n\n        if (error) {\n            return (\n                <div className=\"App\" style={styles.container}>\n                    <h1 style={styles.errorText}>Error</h1>\n                    <p>{error}</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"App\" style={styles.container}>\n                <h1 style={styles.header}>POC on DataLab Search Performance & Monitoring!</h1>\n                <button\n                    style={styles.button}\n                    onClick={() => this.handleButtonClick('GetProductsOperation', 'https://jsonplaceholder.typicode.com/posts', '/posts')}\n                    disabled={loading}\n                >\n                    {loading && buttonClicked === 'GetProductsOperation' ? 'Loading...' : 'Fetch Posts'}\n                </button>\n                <button\n                    style={styles.button}\n                    onClick={() => this.handleButtonClick('GetUsersOperation', 'https://jsonplaceholder.typicode.com/users', '/users')}\n                    disabled={loading}\n                >\n                    {loading && buttonClicked === 'GetUsersOperation' ? 'Loading...' : 'Fetch Users'}\n                </button>\n                <div>\n                    {data && <pre style={styles.data}>{JSON.stringify(data, null, 2)}</pre>}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst styles = {\n    container: {\n        backgroundColor: '#f5f5f5',\n        padding: '20px',\n        fontFamily: 'Arial, sans-serif',\n        textAlign: 'center',\n        minHeight: '100vh',\n    },\n    header: {\n        color: '#333',\n        fontSize: '2rem',\n    },\n    button: {\n        backgroundColor: '#4CAF50',\n        color: 'white',\n        padding: '10px 20px',\n        margin: '10px',\n        border: 'none',\n        borderRadius: '5px',\n        cursor: 'pointer',\n        fontSize: '16px',\n    },\n    buttonDisabled: {\n        backgroundColor: '#888',\n    },\n    data: {\n        backgroundColor: '#fff',\n        padding: '10px',\n        borderRadius: '5px',\n        marginTop: '20px',\n        textAlign: 'left',\n    },\n    errorText: {\n        color: 'red',\n    },\n};\n\nexport default withAITracking(ReactPlugin, App);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}