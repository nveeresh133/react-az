{"ast":null,"code":"/*\n * Application Insights JavaScript SDK - Channel, 3.3.1\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\nimport { ContextTagKeys } from \"@microsoft/applicationinsights-common\";\nimport { _DYN_GET_HASH_CODE_SCORE, _DYN_GET_SAMPLING_SCORE, _DYN_TAGS, _DYN_TRACE_ID } from \"../../__DynamicConstants\";\nimport { HashCodeScoreGenerator } from \"./HashCodeScoreGenerator\";\nvar SamplingScoreGenerator = /** @class */function () {\n  function SamplingScoreGenerator() {\n    var _self = this;\n    var hashCodeGenerator = new HashCodeScoreGenerator();\n    var keys = new ContextTagKeys();\n    _self[_DYN_GET_SAMPLING_SCORE /* @min:%2egetSamplingScore */] = function (item) {\n      var score = 0;\n      if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.userId]) {\n        // search in tags first, then ext\n        score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.userId]);\n      } else if (item.ext && item.ext.user && item.ext.user.id) {\n        score = hashCodeGenerator[_DYN_GET_HASH_CODE_SCORE /* @min:%2egetHashCodeScore */](item.ext.user.id);\n      } else if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.operationId]) {\n        // search in tags first, then ext\n        score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.operationId]);\n      } else if (item.ext && item.ext.telemetryTrace && item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]) {\n        score = hashCodeGenerator.getHashCodeScore(item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]);\n      } else {\n        // tslint:disable-next-line:insecure-random\n        score = Math.random() * 100;\n      }\n      return score;\n    };\n  }\n  return SamplingScoreGenerator;\n}();\nexport { SamplingScoreGenerator };","map":{"version":3,"names":["ContextTagKeys","_DYN_GET_HASH_CODE_SCORE","_DYN_GET_SAMPLING_SCORE","_DYN_TAGS","_DYN_TRACE_ID","HashCodeScoreGenerator","SamplingScoreGenerator","_self","hashCodeGenerator","keys","item","score","userId","getHashCodeScore","ext","user","id","operationId","telemetryTrace","Math","random"],"sources":["/home/veeresh133/app/api-call/react-az/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/TelemetryProcessors/SamplingScoreGenerators/SamplingScoreGenerator.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ContextTagKeys } from \"@microsoft/applicationinsights-common\";\r\nimport { _DYN_GET_HASH_CODE_SCORE, _DYN_GET_SAMPLING_SCORE, _DYN_TAGS, _DYN_TRACE_ID } from \"../../__DynamicConstants\";\r\nimport { HashCodeScoreGenerator } from \"./HashCodeScoreGenerator\";\r\nvar SamplingScoreGenerator = /** @class */ (function () {\r\n    function SamplingScoreGenerator() {\r\n        var _self = this;\r\n        var hashCodeGenerator = new HashCodeScoreGenerator();\r\n        var keys = new ContextTagKeys();\r\n        _self[_DYN_GET_SAMPLING_SCORE /* @min:%2egetSamplingScore */] = function (item) {\r\n            var score = 0;\r\n            if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.userId]) { // search in tags first, then ext\r\n                score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.userId]);\r\n            }\r\n            else if (item.ext && item.ext.user && item.ext.user.id) {\r\n                score = hashCodeGenerator[_DYN_GET_HASH_CODE_SCORE /* @min:%2egetHashCodeScore */](item.ext.user.id);\r\n            }\r\n            else if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.operationId]) { // search in tags first, then ext\r\n                score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.operationId]);\r\n            }\r\n            else if (item.ext && item.ext.telemetryTrace && item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]) {\r\n                score = hashCodeGenerator.getHashCodeScore(item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]);\r\n            }\r\n            else {\r\n                // tslint:disable-next-line:insecure-random\r\n                score = (Math.random() * 100);\r\n            }\r\n            return score;\r\n        };\r\n    }\r\n    return SamplingScoreGenerator;\r\n}());\r\nexport { SamplingScoreGenerator };\r\n//# sourceMappingURL=SamplingScoreGenerator.js.map"],"mappings":";;;;;AAEA,SAAAA,cAAA;AACA,SAAAC,wBAAA,EAAAC,uBAAA,EAAAC,SAAA,EAAAC,aAAA;AACA,SAAAC,sBAAA;AACA,IAAAC,sBAAA;EACA,SAAAA,uBAAA;IACA,IAAAC,KAAA;IACA,IAAAC,iBAAA,OAAAH,sBAAA;IACA,IAAAI,IAAA,OAAAT,cAAA;IACAO,KAAA,CAAAL,uBAAA,6CAAAQ,IAAA;MACA,IAAAC,KAAA;MACA,IAAAD,IAAA,CAAAP,SAAA,wBAAAO,IAAA,CAAAP,SAAA,qBAAAM,IAAA,CAAAG,MAAA;QAAA;QACAD,KAAA,GAAAH,iBAAA,CAAAK,gBAAA,CAAAH,IAAA,CAAAP,SAAA,qBAAAM,IAAA,CAAAG,MAAA;MACA,OACA,IAAAF,IAAA,CAAAI,GAAA,IAAAJ,IAAA,CAAAI,GAAA,CAAAC,IAAA,IAAAL,IAAA,CAAAI,GAAA,CAAAC,IAAA,CAAAC,EAAA;QACAL,KAAA,GAAAH,iBAAA,CAAAP,wBAAA,iCAAAS,IAAA,CAAAI,GAAA,CAAAC,IAAA,CAAAC,EAAA;MACA,OACA,IAAAN,IAAA,CAAAP,SAAA,wBAAAO,IAAA,CAAAP,SAAA,qBAAAM,IAAA,CAAAQ,WAAA;QAAA;QACAN,KAAA,GAAAH,iBAAA,CAAAK,gBAAA,CAAAH,IAAA,CAAAP,SAAA,qBAAAM,IAAA,CAAAQ,WAAA;MACA,OACA,IAAAP,IAAA,CAAAI,GAAA,IAAAJ,IAAA,CAAAI,GAAA,CAAAI,cAAA,IAAAR,IAAA,CAAAI,GAAA,CAAAI,cAAA,CAAAd,aAAA;QACAO,KAAA,GAAAH,iBAAA,CAAAK,gBAAA,CAAAH,IAAA,CAAAI,GAAA,CAAAI,cAAA,CAAAd,aAAA;MACA,OACA;QACA;QACAO,KAAA,GAAAQ,IAAA,CAAAC,MAAA;MACA;MACA,OAAAT,KAAA;IACA;EACA;EACA,OAAAL,sBAAA;AACA;AACA,SAAAA,sBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}