{"ast":null,"code":"/*\n * Application Insights JavaScript SDK - Core, 3.3.1\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\nimport { objDefine } from \"@nevware21/ts-utils\";\nimport { _DYN_NODE_TYPE } from \"../__DynamicConstants\";\nimport { normalizeJsName } from \"./HelperFuncs\";\nimport { STR_EMPTY } from \"./InternalConstants\";\nimport { newId } from \"./RandomHelper\";\nvar version = '3.3.1';\nvar instanceName = \".\" + newId(6);\nvar _dataUid = 0;\n// Accepts only:\n//  - Node\n//    - Node.ELEMENT_NODE\n//    - Node.DOCUMENT_NODE\n//  - Object\n//    - Any\nfunction _canAcceptData(target) {\n  return target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 1 || target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 9 || !+target[_DYN_NODE_TYPE /* @min:%2enodeType */];\n}\nfunction _getCache(data, target) {\n  var theCache = target[data.id];\n  if (!theCache) {\n    theCache = {};\n    try {\n      if (_canAcceptData(target)) {\n        objDefine(target, data.id, {\n          e: false,\n          v: theCache\n        });\n      }\n    } catch (e) {\n      // Not all environments allow extending all objects, so just ignore the cache in those cases\n    }\n  }\n  return theCache;\n}\nexport function createUniqueNamespace(name, includeVersion) {\n  if (includeVersion === void 0) {\n    includeVersion = false;\n  }\n  return normalizeJsName(name + _dataUid++ + (includeVersion ? \".\" + version : STR_EMPTY) + instanceName);\n}\nexport function createElmNodeData(name) {\n  var data = {\n    id: createUniqueNamespace(\"_aiData-\" + (name || STR_EMPTY) + \".\" + version),\n    accept: function (target) {\n      return _canAcceptData(target);\n    },\n    get: function (target, name, defValue, addDefault) {\n      var theCache = target[data.id];\n      if (!theCache) {\n        if (addDefault) {\n          // Side effect is adds the cache\n          theCache = _getCache(data, target);\n          theCache[normalizeJsName(name)] = defValue;\n        }\n        return defValue;\n      }\n      return theCache[normalizeJsName(name)];\n    },\n    kill: function (target, name) {\n      if (target && target[name]) {\n        try {\n          delete target[name];\n        } catch (e) {\n          // Just cleaning up, so if this fails -- ignore\n        }\n      }\n    }\n  };\n  return data;\n}","map":{"version":3,"names":["objDefine","_DYN_NODE_TYPE","normalizeJsName","STR_EMPTY","newId","version","instanceName","_dataUid","_canAcceptData","target","_getCache","data","theCache","id","e","v","createUniqueNamespace","name","includeVersion","createElmNodeData","accept","get","defValue","addDefault","kill"],"sources":["/home/veeresh133/app/react-az/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/DataCacheHelper.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { objDefine } from \"@nevware21/ts-utils\";\r\nimport { _DYN_NODE_TYPE } from \"../__DynamicConstants\";\r\nimport { normalizeJsName } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { newId } from \"./RandomHelper\";\r\nvar version = '3.3.1';\r\nvar instanceName = \".\" + newId(6);\r\nvar _dataUid = 0;\r\n// Accepts only:\r\n//  - Node\r\n//    - Node.ELEMENT_NODE\r\n//    - Node.DOCUMENT_NODE\r\n//  - Object\r\n//    - Any\r\nfunction _canAcceptData(target) {\r\n    return target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 1 || target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 9 || !(+target[_DYN_NODE_TYPE /* @min:%2enodeType */]);\r\n}\r\nfunction _getCache(data, target) {\r\n    var theCache = target[data.id];\r\n    if (!theCache) {\r\n        theCache = {};\r\n        try {\r\n            if (_canAcceptData(target)) {\r\n                objDefine(target, data.id, {\r\n                    e: false,\r\n                    v: theCache\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Not all environments allow extending all objects, so just ignore the cache in those cases\r\n        }\r\n    }\r\n    return theCache;\r\n}\r\nexport function createUniqueNamespace(name, includeVersion) {\r\n    if (includeVersion === void 0) { includeVersion = false; }\r\n    return normalizeJsName(name + (_dataUid++) + (includeVersion ? \".\" + version : STR_EMPTY) + instanceName);\r\n}\r\nexport function createElmNodeData(name) {\r\n    var data = {\r\n        id: createUniqueNamespace(\"_aiData-\" + (name || STR_EMPTY) + \".\" + version),\r\n        accept: function (target) {\r\n            return _canAcceptData(target);\r\n        },\r\n        get: function (target, name, defValue, addDefault) {\r\n            var theCache = target[data.id];\r\n            if (!theCache) {\r\n                if (addDefault) {\r\n                    // Side effect is adds the cache\r\n                    theCache = _getCache(data, target);\r\n                    theCache[normalizeJsName(name)] = defValue;\r\n                }\r\n                return defValue;\r\n            }\r\n            return theCache[normalizeJsName(name)];\r\n        },\r\n        kill: function (target, name) {\r\n            if (target && target[name]) {\r\n                try {\r\n                    delete target[name];\r\n                }\r\n                catch (e) {\r\n                    // Just cleaning up, so if this fails -- ignore\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return data;\r\n}\r\n//# sourceMappingURL=DataCacheHelper.js.map"],"mappings":";;;;;AAEA,SAAAA,SAAA;AACA,SAAAC,cAAA;AACA,SAAAC,eAAA;AACA,SAAAC,SAAA;AACA,SAAAC,KAAA;AACA,IAAAC,OAAA;AACA,IAAAC,YAAA,SAAAF,KAAA;AACA,IAAAG,QAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAAC,eAAAC,MAAA;EACA,OAAAA,MAAA,CAAAR,cAAA,kCAAAQ,MAAA,CAAAR,cAAA,oCAAAQ,MAAA,CAAAR,cAAA;AACA;AACA,SAAAS,UAAAC,IAAA,EAAAF,MAAA;EACA,IAAAG,QAAA,GAAAH,MAAA,CAAAE,IAAA,CAAAE,EAAA;EACA,KAAAD,QAAA;IACAA,QAAA;IACA;MACA,IAAAJ,cAAA,CAAAC,MAAA;QACAT,SAAA,CAAAS,MAAA,EAAAE,IAAA,CAAAE,EAAA;UACAC,CAAA;UACAC,CAAA,EAAAH;QACA;MACA;IACA,EACA,OAAAE,CAAA;MACA;IAAA;EAEA;EACA,OAAAF,QAAA;AACA;AACA,gBAAAI,sBAAAC,IAAA,EAAAC,cAAA;EACA,IAAAA,cAAA;IAAAA,cAAA;EAAA;EACA,OAAAhB,eAAA,CAAAe,IAAA,GAAAV,QAAA,MAAAW,cAAA,SAAAb,OAAA,GAAAF,SAAA,IAAAG,YAAA;AACA;AACA,gBAAAa,kBAAAF,IAAA;EACA,IAAAN,IAAA;IACAE,EAAA,EAAAG,qBAAA,eAAAC,IAAA,IAAAd,SAAA,UAAAE,OAAA;IACAe,MAAA,WAAAA,CAAAX,MAAA;MACA,OAAAD,cAAA,CAAAC,MAAA;IACA;IACAY,GAAA,WAAAA,CAAAZ,MAAA,EAAAQ,IAAA,EAAAK,QAAA,EAAAC,UAAA;MACA,IAAAX,QAAA,GAAAH,MAAA,CAAAE,IAAA,CAAAE,EAAA;MACA,KAAAD,QAAA;QACA,IAAAW,UAAA;UACA;UACAX,QAAA,GAAAF,SAAA,CAAAC,IAAA,EAAAF,MAAA;UACAG,QAAA,CAAAV,eAAA,CAAAe,IAAA,KAAAK,QAAA;QACA;QACA,OAAAA,QAAA;MACA;MACA,OAAAV,QAAA,CAAAV,eAAA,CAAAe,IAAA;IACA;IACAO,IAAA,WAAAA,CAAAf,MAAA,EAAAQ,IAAA;MACA,IAAAR,MAAA,IAAAA,MAAA,CAAAQ,IAAA;QACA;UACA,OAAAR,MAAA,CAAAQ,IAAA;QACA,EACA,OAAAH,CAAA;UACA;QAAA;MAEA;IACA;EACA;EACA,OAAAH,IAAA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}