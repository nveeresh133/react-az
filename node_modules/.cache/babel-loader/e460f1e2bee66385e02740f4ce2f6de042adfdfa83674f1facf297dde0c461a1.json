{"ast":null,"code":"import React from'react';import{withAITracking}from'@microsoft/applicationinsights-react-js';import{ReactPlugin}from'@microsoft/applicationinsights-react-js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends React.Component{constructor(props){super(props);this.state={data:null,error:null,loading:false,buttonClicked:''};this.handleButtonClick=this.handleButtonClick.bind(this);}async handleButtonClick(operationName,endpoint){this.setState({loading:true,error:null,buttonClicked:operationName});// Start tracking the operation\nthis.props.appInsights.startTrackEvent(operationName);try{const response=await fetch(endpoint);if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();this.setState({data,error:null,loading:false});// Stop tracking and log successful data fetch\nthis.props.appInsights.stopTrackEvent(operationName,{status:'success'});}catch(error){this.setState({data:null,error:error.message,loading:false});// Stop tracking and log failed data fetch\nthis.props.appInsights.stopTrackEvent(operationName,{status:'failure',error:error.message});}}render(){const{data,error,loading,buttonClicked}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hello, Welcome to the React World!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.handleButtonClick('GetProductsOperation','https://jsonplaceholder.typicode.com/posts'),disabled:loading,children:loading&&buttonClicked==='GetProductsOperation'?'Loading...':'Fetch Posts'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.handleButtonClick('GetUsersOperation','https://jsonplaceholder.typicode.com/users'),disabled:loading,children:loading&&buttonClicked==='GetUsersOperation'?'Loading...':'Fetch Users'}),/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),data&&/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(data,null,2)})]})]});}}export default withAITracking(ReactPlugin,App);","map":{"version":3,"names":["React","withAITracking","ReactPlugin","jsx","_jsx","jsxs","_jsxs","App","Component","constructor","props","state","data","error","loading","buttonClicked","handleButtonClick","bind","operationName","endpoint","setState","appInsights","startTrackEvent","response","fetch","ok","Error","json","stopTrackEvent","status","message","render","className","children","onClick","disabled","JSON","stringify"],"sources":["/home/veeresh133/app/json-holder-api/react-az/src/App.js"],"sourcesContent":["import React from 'react';\nimport { withAITracking } from '@microsoft/applicationinsights-react-js';\nimport { ReactPlugin } from '@microsoft/applicationinsights-react-js';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            error: null,\n            loading: false,\n            buttonClicked: '',\n        };\n        this.handleButtonClick = this.handleButtonClick.bind(this);\n    }\n\n    async handleButtonClick(operationName, endpoint) {\n        this.setState({ loading: true, error: null, buttonClicked: operationName });\n\n        // Start tracking the operation\n        this.props.appInsights.startTrackEvent(operationName);\n\n        try {\n            const response = await fetch(endpoint);\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            const data = await response.json();\n\n            this.setState({ data, error: null, loading: false });\n\n            // Stop tracking and log successful data fetch\n            this.props.appInsights.stopTrackEvent(operationName, { status: 'success' });\n        } catch (error) {\n            this.setState({ data: null, error: error.message, loading: false });\n\n            // Stop tracking and log failed data fetch\n            this.props.appInsights.stopTrackEvent(operationName, { status: 'failure', error: error.message });\n        }\n    }\n\n    render() {\n        const { data, error, loading, buttonClicked } = this.state;\n\n        return (\n            <div className=\"App\">\n                <h1>Hello, Welcome to the React World!</h1>\n                <button onClick={() => this.handleButtonClick('GetProductsOperation', 'https://jsonplaceholder.typicode.com/posts')} disabled={loading}>\n                    {loading && buttonClicked === 'GetProductsOperation' ? 'Loading...' : 'Fetch Posts'}\n                </button>\n                <button onClick={() => this.handleButtonClick('GetUsersOperation', 'https://jsonplaceholder.typicode.com/users')} disabled={loading}>\n                    {loading && buttonClicked === 'GetUsersOperation' ? 'Loading...' : 'Fetch Users'}\n                </button>\n                <div>\n                    {error && <p>Error: {error}</p>}\n                    {data && <pre>{JSON.stringify(data, null, 2)}</pre>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withAITracking(ReactPlugin, App);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}